

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Risk Adjusted Returns &mdash; TensorTrade 0.2.0-beta.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Simple Profit" href="SimpleProfit.html" />
    <link rel="prev" title="Reward Scheme" href="RewardScheme.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
</ul>
<p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/getting_started.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/getting_started.html#docker">Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/overview.html">Code Structure</a></li>
</ul>
<p class="caption"><span class="caption-text">Component Types</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../components.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_types/trading_environment.html">Trading Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_types/exchange.html">Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_types/feature_pipeline.html">Feature Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_types/action_scheme.html">Action Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_types/reward_scheme.html">Reward Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_types/trading_strategy.html">Trading Strategy</a></li>
</ul>
<p class="caption"><span class="caption-text">Trading Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../environments/TradingEnvironment.html">TradingEnvironment</a></li>
</ul>
<p class="caption"><span class="caption-text">Exchanges</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/Exchange.html">Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/simulated/SimulatedExchange.html">SimulatedExchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/simulated/FBMExchange.html">FBMExchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/live/CCXTExchange.html">CCXTExchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/live/InteractiveBrokersExchange.html">InteractiveBrokersExchange</a></li>
</ul>
<p class="caption"><span class="caption-text">Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features/FeaturePipeline.html">FeaturePipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/FeatureTransformer.html">FeatureTransformer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/scalers/MinMaxNormalizer.html">MinMaxNormalizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/scalers/StandardNormalizer.html">StandardNormalizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/stationarity/FractionalDifference.html">FractionalDifference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/indicators/TAlibIndicator.html">TAlibIndicator</a></li>
</ul>
<p class="caption"><span class="caption-text">Actions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../actions/ActionScheme.html">ActionScheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../actions/ContinuousActions.html">ContinuousActions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../actions/DiscreteActions.html">DiscreteActions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../actions/MultiDiscreteActions.html">MultiDiscreteActions</a></li>
</ul>
<p class="caption"><span class="caption-text">Rewards</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="RewardScheme.html">Reward Scheme</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Risk Adjusted Returns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-are-risk-adjusted-models">What are risk adjusted models?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-parameters">Class Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#private">Private</a></li>
<li class="toctree-l3"><a class="reference internal" href="#public">Public</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#use-cases">Use Cases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SimpleProfit.html">Simple Profit</a></li>
</ul>
<p class="caption"><span class="caption-text">Learning Agents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../agents/learning_agents.html">Learning Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../agents/stable_baselines.html">Stable Baselines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../agents/tensorforce.html">Tensorforce</a></li>
</ul>
<p class="caption"><span class="caption-text">Strategies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../strategies/TradingStrategy.html">TradingStrategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../strategies/StableBaselinesTradingStrategy.html">StableBaselinesTradingStrategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../strategies/TensorforceTradingStrategy.html">TensorforceTradingStrategy</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/modules.html">API reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TensorTrade</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Risk Adjusted Returns</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/components/rewards/RiskAdjustedReturns.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="risk-adjusted-returns">
<h1>Risk Adjusted Returns<a class="headerlink" href="#risk-adjusted-returns" title="Permalink to this headline">¶</a></h1>
<p>A reward scheme that rewards the agent for increasing its net worth, while penalizing more volatile strategies.</p>
<div class="section" id="what-are-risk-adjusted-models">
<h2>What are risk adjusted models?<a class="headerlink" href="#what-are-risk-adjusted-models" title="Permalink to this headline">¶</a></h2>
<p>When trading you often are not just looking at the overall returns of your model. You’re also looking at the overall volatility of your trading strategy over time compared to other metrics. The two major strategies here are the sharpe and sortino ratio.</p>
<p>The <strong>sharpe ratio</strong> looks at the overall movements of the portfolio and generates a penalty for massive movements through a lower score. This includes major movements towards the upside and downside.</p>
<p><img alt="Sharpe Ratio" src="../../_images/sharpe.png" /></p>
<p>The <strong>sortino ratio</strong> takes the same idea, though it focuses more on penalizing only the upside. That means it’ll give a huge score for moments when the price moves upward, and will only give a negative score when the price drops heavily. This is a great direction for the RL algorithm. Seeing that we don’t want to incur heavy downsides, yet want to take on large upsides, using this metric alone gives us lots of progress to mititgate downsides and increase upsides.</p>
<p><img alt="Sortino Ratio" src="../../_images/sortino.png" /></p>
</div>
<div class="section" id="class-parameters">
<h2>Class Parameters<a class="headerlink" href="#class-parameters" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">return_algorithm</span></code></p>
<ul>
<li><p>The risk-adjusted return metric to use. Options are ‘sharpe’ and ‘sortino’. Defaults to ‘sharpe’.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">risk_free_rate</span></code></p>
<ul>
<li><p>The risk free rate of returns to use for calculating metrics. Defaults to 0.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">target_returns</span></code></p>
<ul>
<li><p>The target returns per period for use in calculating the sortino ratio. Default to 0.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p>Below are the functions that the <code class="docutils literal notranslate"><span class="pre">RiskAdjustedReturns</span></code> uses to effectively operate.</p>
<div class="section" id="private">
<h3>Private<a class="headerlink" href="#private" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_return_algorithm_from_str</span></code></p>
<ul>
<li><p>Allows us to dynamically choose an algorithm for the reward within a given selection. We can choose between either sharpe or sortino ratios. Each are volatility models we’ve discussed above.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">_sharpe_ratio</span></code></p>
<ul>
<li><p>Return the sharpe ratio for a given series of a returns.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">_sortino_ratio</span></code></p>
<ul>
<li><p>Return the sortino ratio for a given series of a returns.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="public">
<h3>Public<a class="headerlink" href="#public" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">get_reward</span></code></p>
<ul>
<li><p>Return the reward corresponding to the selected risk-adjusted return metric.</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="use-cases">
<h2>Use Cases<a class="headerlink" href="#use-cases" title="Permalink to this headline">¶</a></h2>
<p>…</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="SimpleProfit.html" class="btn btn-neutral float-right" title="Simple Profit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="RewardScheme.html" class="btn btn-neutral float-left" title="Reward Scheme" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>